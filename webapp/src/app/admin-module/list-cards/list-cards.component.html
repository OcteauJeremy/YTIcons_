
<section class="search-wrapper">
  <div class="search-area2 bgimage">
    <div class="container content_above youtube_search">
      <div class="row">
        <div class="col-sm-8 col-sm-offset-2 col-xs-10 col-xs-offset-1">
          <div class="search">
            <div class="search__title"><h3>Search your YTIcon</h3></div>
            <div class="search__field">
              <form action="#">
                <div class="field-wrapper">
                  <input (input)="onSearchChange($event.target.value)" name="search" class="relative-field rounded" type="text" placeholder="Search your YTIcon">
                  <button class="btn btn--round" type="submit">Search</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="filter-area">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="filter-bar">
          <div class="filter__option filter--dropdown">
            <a href="#" id="type" class="dropdown-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{names.type ? (names.type | capitalize) : 'Type'}}<span class="lnr lnr-chevron-down"></span></a>
            <ul  class="dropdown dropdown-menu">
              <li (click)="selectType('')"><a>All <span *ngIf="!filters.type"><i class="fas fa-check"></i></span></a></li>
              <li *ngFor="let type of types" (click)="selectType(type)"><a>{{type.name | capitalize}} <span *ngIf="filters.type == type._id"><i class="fas fa-check"></i></span></a></li>
            </ul>
          </div>

          <div class="filter__option filter--dropdown">
            <a href="#" id="nationality" class="dropdown-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{names.nationality ? (names.nationality | capitalize) : 'Nationality'}}<span class="lnr lnr-chevron-down"></span></a>
            <ul  class="dropdown dropdown-menu">
              <li (click)="selectNationality('')"><a>All <span *ngIf="!filters.nationality"><i class="fas fa-check"></i></span></a></li>
              <li *ngFor="let nationality of nationalities" (click)="selectNationality(nationality)"><a>{{nationality.name | capitalize}} <span *ngIf="filters.nationality == nationality._id"><i class="fas fa-check"></i></span></a></li>
            </ul>
          </div>

          <div class="filter__option filter--dropdown">
            <a href="#" id="category" class="dropdown-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{names.category ? (names.category | capitalize) : 'Channel Category'}}<span class="lnr lnr-chevron-down"></span></a>
            <ul  class="dropdown dropdown-menu">
              <li (click)="selectCategory('')"><a>All <span *ngIf="!filters.category"><i class="fas fa-check"></i></span></a></li>
              <li *ngFor="let category of categories" (click)="selectCategory(category)"><a>{{category.name | capitalize}} <span *ngIf="filters.category == category._id"><i class="fas fa-check"></i></span></a></li>
            </ul>
          </div>

          <div class="filter__option filter--dropdown">
            <a href="#" id="follower" class="dropdown-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{names.subscribers ? names.subscribers + ' followers' : 'Followers'}}<span class="lnr lnr-chevron-down"></span></a>
            <ul  class="dropdown dropdown-menu">
              <li (click)="selectFollower('', null, null)"><a>All <span *ngIf="!filters.minSubscribers && !filters.maxSubscribers"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectFollower(0,100000, '0 - 100K')"><a>0 - 100K <span *ngIf="filters.minSubscribers == 0 && filters.maxSubscribers == 100000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectFollower(100000,250000, '100K - 250K')"><a>100K - 250K <span *ngIf="filters.minSubscribers == 100000 && filters.maxSubscribers == 250000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectFollower(250000,500000, '250K - 500K')"><a>250K - 500K <span *ngIf="filters.minSubscribers == 250000 && filters.maxSubscribers == 500000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectFollower(500000,1000000, '500K - 1M')"><a>500K - 1M <span *ngIf="filters.minSubscribers == 500000 && filters.maxSubscribers == 1000000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectFollower(1000000,5000000, '1M - 5M')"><a>1M - 5M <span *ngIf="filters.minSubscribers == 1000000 && filters.maxSubscribers == 50000000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectFollower(5000000,10000000, '5M - 10M')"><a>5M - 10M <span *ngIf="filters.minSubscribers == 50000000 && filters.maxSubscribers == 100000000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectFollower(10000000,null, 'More than 10M')"><a>More than 10M <span *ngIf="filters.minSubscribers == 10000000 && !filters.maxSubscribers"><i class="fas fa-check"></i></span></a></li>
            </ul>
          </div>

          <div class="filter__option filter--dropdown">
            <a href="#" id="video" class="dropdown-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{names.videos ? names.videos + ' videos' : 'Videos'}}<span class="lnr lnr-chevron-down"></span></a>
            <ul  class="dropdown dropdown-menu">
              <li (click)="selectVideo('', null, null)"><a>All <span *ngIf="!filters.minVideos && !filters.maxVideos"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectVideo(0,100, '0 - 100')"><a>0 - 100 <span *ngIf="filters.minVideos == 0 && filters.maxVideos == 100"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectVideo(100,200, '100 - 200')"><a>100 - 200 <span *ngIf="filters.minVideos == 100 && filters.maxVideos == 200"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectVideo(200,500,'200 - 500')"><a>200 - 500 <span *ngIf="filters.minVideos == 200 && filters.maxVideos == 500"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectVideo(500,1000,'500 - 1K')"><a>500 - 1 000 <span *ngIf="filters.minVideos == 500 && filters.maxVideos == 1000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectVideo(1000,5000,'1K - 5K')"><a>1 000 - 5 000 <span *ngIf="filters.minVideos == 1000 && filters.maxVideos == 5000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectVideo(5000,10000,'5K - 10K')"><a>5 000 - 10 000 <span *ngIf="filters.minVideos == 5000 && filters.maxVideos == 10000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectVideo(10000,50000,'10K - 50K')"><a>10 000 - 50 000 <span *ngIf="filters.minVideos == 10000 && filters.maxVideos == 50000"><i class="fas fa-check"></i></span></a></li>
              <li  (click)="selectVideo(50000,null,'More than 50K')"><a>More than 50 000 <span *ngIf="filters.minVideos == 50000 && !filters.maxVideos"><i class="fas fa-check"></i></span></a></li>
            </ul>
          </div>


          <!--<div class="filter__option filter&#45;&#45;dropdown filter&#45;&#45;range">-->
          <!--<a href="#" id="drop3" class="dropdown-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Price Range <span class="lnr lnr-chevron-down"></span></a>-->
          <!--<div class="dropdown dropdown-menu" aria-labelledby="drop3">-->
          <!--<div class="range-slider price-range"></div>-->

          <!--<div class="price-ranges">-->
          <!--<span class="from rounded">$30</span>-->
          <!--<span class="to rounded">$300</span>-->
          <!--</div>-->
          <!--</div>-->
          <!--</div>-->

          <div class="filter__option filter--select">
            <div class="select-wrap">
              <select (change)="selectSort($event.target.value)" name="price">
                <option value="createdAt_desc">Newest</option>
                <option value="createdAt_asc">Oldest</option>
                <option value="price_desc">Price : High to low</option>
                <option value="price_asc">Price : Low to High</option>
                <!--<option value="rarity_desc">Rarity : High to low</option>-->
                <!--<option value="rarity_asc">Rarity : Low to High</option>-->
                <option value="nbVideos_desc">Video number : High to low</option>
                <option value="nbVideos_asc">Video number : Low to High</option>
                <option value="nbTransactions_desc">Transaction number : High to low</option>
                <option value="nbTransactions_asc">Transaction number : Low to High</option>
              </select>
              <span class="lnr lnr-chevron-down"></span>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<section class="bgcolor">
  <div class="section--padding2">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
        </div>
      </div>
    </div>

    <div class="row" *ngIf="maxPages > 0">

      <!--CARDS LIST-->
      <div class="col-md-3 col-sm-4 col-xs-4 list-container">
        <div class="pagination-area">
          <div class="cards-container">
            <div *ngFor="let card of cards" class="shortcode_module_title" (click)="selectCard(card)">
              <div class="cards-infos">
                <div class="dashboard__title">
                  <p class="name"><b>{{card.name}}</b></p>
                  <p>{{(card.type?.name | capitalize)}}</p>
                </div>
                <!--<div [ngClass]="['cardUI', 'card', card.type ? card.type.css : '']"></div>-->
              </div>
            </div>
          </div>
          <nav class="navigation pagination" role="navigation">
            <div class="nav-links">
              <a class="prev page-numbers" (click)="prevPage()"><span class="lnr lnr-arrow-left"></span></a>

              <a class="prev page-numbers" *ngIf="maxPages > 4" [class.disabled]="filters.page == 1" (click)="loadPage(1)">First</a>

              <a *ngFor="let in of counter(maxPages); let idxPage = index" class="page-numbers"
                 [class.current]="idxPage + 1 == filters.page" (click)="loadPage(idxPage + 1)">
                {{idxPage + 1}}
              </a>

              <a class="prev page-numbers" *ngIf="maxPages > 4" (click)="loadPage(maxPages)">Last</a>
              <a class="next page-numbers" [class.disabled]="filters.page == maxPages" (click)="nextPage()"><span class="lnr lnr-arrow-right"></span></a>
            </div>
          </nav>
        </div>
      </div>
      <!--END CARDS LIST-->


      <!--CARDS INFOS-->
      <div class="col-md-8 col-sm-7 col-xs-7 card-details-container">
        <div *ngIf="selectedCard" class="row">
          <card [card]="selectedCard" [modal]="false"></card>

          <div>
            <div class="dashboard_contents">
              <div class="details-container">
                <form action="#" class="setting_form">
                  <div class="row">
                    <div class="col-md-12">
                      <div class="information_module">
                        <a class="toggle_title" href="#collapseInformations" role="button" data-toggle="collapse"
                           aria-expanded="false" aria-controls="collapse1" id="informations-card">
                          <h4>Card Informations <span class="lnr lnr-chevron-down"></span></h4>
                        </a>

                        <div class="information__set toggle_module collapse" id="collapseInformations">
                          <div class="information_wrapper form--fields">
                            <div class="form-group">
                              <label for="cardName">Card Name :</label>
                              <input name="cardName" type="text" id="cardName" class="text_field" placeholder="Card Name"
                                     [(ngModel)]="selectedCard.name" (change)="triggerSave(selectedCard)">
                            </div>

                            <div class="form-group">
                              <label for="citationCard">Citation:</label>
                              <textarea name="citationCard" id="citationCard" class="text_field" placeholder="Channel's citation"
                                        [(ngModel)]="selectedCard.citation" (change)="triggerSave(selectedCard)"></textarea>
                            </div>

                            <div class="form-group">
                              <label for="descriptionCard">Description:</label>
                              <textarea name="descriptionCard" id="descriptionCard" class="text_field"
                                        placeholder="Channel's description" [(ngModel)]="selectedCard.description"></textarea>
                            </div>

                            <div class="form-group">
                              <label for="country">Nationalities:</label>
                              <div class="select-wrap select-wrap2" id="wrapCountry">
                                <select [(ngModel)]="selectedCard.nationality"  (change)="changeInputCountry(); triggerSave(selectedCard)" name="country" id="country" class="text_field">
                                  <option *ngFor="let nat of nationalities" [ngValue]="nat">{{nat.name}}</option>
                                </select>
                                <span class="lnr lnr-chevron-down"></span>
                              </div>
                            </div>

                            <div class="row">
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label for="codeCountry">Country code:</label>
                                  <input name="codeCountry" type="text" id="codeCountry" class="text_field"
                                         placeholder="Code country" [(ngModel)]="selectInputs.codeCountry" (change)="triggerSave(selectedCard)">
                                </div>
                              </div>
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label for="nameCountry">Country name:</label>
                                  <input name="nameCountry" type="text" id="nameCountry" class="text_field"
                                         placeholder="Name country" [(ngModel)]="selectInputs.nameCountry" (change)="triggerSave(selectedCard)">
                                </div>
                              </div>
                            </div>

                            <div class="form-group">
                              <label for="category">Category:</label>
                              <div class="select-wrap select-wrap2" id="wrapCategory">
                                <select [(ngModel)]="selectedCard.category" (change)="changeInputCategory(); triggerSave(selectedCard)" name="category" id="category" class="text_field">
                                  <option *ngFor="let cat of categories" [ngValue]="cat">{{cat.name}}</option>
                                </select>
                                <span class="lnr lnr-chevron-down"></span>
                              </div>
                            </div>
                            <div class="form-group">
                              <label for="categoryName">Category Name:</label>
                              <input name="categoryName" type="text" id="categoryName" class="text_field" placeholder="Category Name"
                                     [(ngModel)]="selectInputs.nameCategory" (change)="triggerSave(selectedCard)">
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-12">
                      <div class="information_module">
                        <a class="toggle_title" href="#collapseStatistics" role="button" data-toggle="collapse"
                           aria-expanded="false" aria-controls="collapse1" id="statistics-card">
                          <h4>Card Statistics <span class="lnr lnr-chevron-down"></span></h4>
                        </a>

                        <div class="information__set toggle_module collapse" id="collapseStatistics">
                          <div class="information_wrapper form--fields">
                            <div class="row">
                              <div class="col-md-4">
                                <div class="form-group">
                                  <label for="nbSubscribers">Number Subscribers:</label>
                                  <input name="nbSubscribers" type="number" id="nbSubscribers" class="text_field"
                                         placeholder="Number of subscribers" [(ngModel)]="selectedCard.nbSubscribers" [ngModelOptions]="{standalone: true}" disabled>
                                </div>
                              </div>

                              <div class="col-md-4">
                                <div class="form-group">
                                  <label for="nbVideos">Number Videos:</label>
                                  <input name="nbVideos" type="number" id="nbVideos" class="text_field" placeholder="Number of videos"
                                         [(ngModel)]="selectedCard.nbVideos" [ngModelOptions]="{standalone: true}" disabled>
                                </div>
                              </div>

                              <div class="col-md-4">
                                <div class="form-group">
                                  <label for="nbViews">Number Views:</label>
                                  <input name="nbViews" type="number" id="nbViews" class="text_field" placeholder="Number of views"
                                         [(ngModel)]="selectedCard.nbViews" [ngModelOptions]="{standalone: true}" disabled>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-md-12">
                      <div class="information_module">
                        <a class="toggle_title" href="#collapseImage" role="button" data-toggle="collapse" id="image-card">
                          <h4>Image <span class="lnr lnr-chevron-down"></span></h4>
                        </a>

                        <div class="information__set toggle_module collapse" id="collapseImage">
                          <div class="information_wrapper form--fields">
                            <div class="row">
                              <div class="prof_img_upload container-image">
                                <img [src]="cardService.baseUrl + selectedCard.image" class="image-previ">

                                <div  class="upload_title">
                                  <p>JPG, GIF or PNG 150x150 px</p>
                                  <label for="dp" class="upload_btn">
                                    <input style="display: none" type="file" id="dp" (change)="refreshImage($event)">
                                    <span class="btn btn--sm btn--round">Upload Image</span>
                                  </label>
                                </div>
                              </div>
                            </div>
                          </div><!-- end /.information_wrapper -->
                        </div><!-- end /.information__set -->
                      </div>
                    </div>

                    <div class="col-md-12">
                      <div class="information_module">
                        <a class="toggle_title" href="#collapseBenef" role="button" data-toggle="collapseBenef" id="benef-card">
                          <h4>Type<span class="lnr lnr-chevron-down"></span></h4>
                        </a>

                        <div class="information__set toggle_module collapse" id="collapseBenef">
                          <div class="information_wrapper form--fields">
                            <div class="row">
                              <div class="col-md-12">
                                <div class="form-group">
                                  <label for="type">Type:</label>
                                  <div class="select-wrap select-wrap2">
                                    <select [(ngModel)]="selectedCard.type" name="type" id="type" class="text_field">
                                      <option *ngFor="let type of types" [ngValue]="type">{{type.name}}</option>
                                    </select>
                                    <span class="lnr lnr-chevron-down"></span>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div><!-- end /.information_wrapper -->
                        </div><!-- end /.information__set -->
                      </div>
                    </div>

                    <div class="col-md-12">
                      <div class="information_module">
                        <a class="toggle_title" href="#collapseType" role="button" data-toggle="collapse" id="price-card">
                          <h4>Beneficiary<span class="lnr lnr-chevron-down"></span></h4>
                        </a>

                        <div class="information__set toggle_module collapse" id="collapseType">
                          <div class="information_wrapper form--fields">
                            <div class="row">
                              <div class="col-md-12">
                                <div class="form-group">
                                  <label for="type">Beneficiary wallet:</label>
                                  <input name="cardBenificiary" type="text" id="cardBenificiary" class="text_field" placeholder="Card Beneficiary"
                                         [(ngModel)]="selectedCard.beneficiaryWallet" (change)="triggerSave(selectedCard)">
                                </div>
                              </div>
                            </div>
                          </div><!-- end /.information_wrapper -->
                        </div><!-- end /.information__set -->
                      </div>
                    </div>
                  </div>

                  <div class="right-side">
                    <div class="cards-options">
                      <div class="custom_checkbox">
                        <input name="locked" type="checkbox" id="{{'isLocked' + selectedCard.id}}" (change)="triggerSave(selectedCard)"
                               [(ngModel)]="selectedCard.isLocked">
                        <label for="{{'isLocked' + selectedCard.id}}">Locked <span class="shadow_checkbox"></span></label>
                      </div>
                      <div class="custom_checkbox">
                        <input name="hidden" type="checkbox" id="{{'isHidden' + selectedCard.id}}" (change)="triggerSave(selectedCard)"
                               [(ngModel)]="selectedCard.isHidden">
                        <label for="{{'isHidden' + selectedCard.id}}">Hidden <span class="shadow_checkbox"></span></label>
                      </div>
                    </div>
                  </div>

                </form>

                <div class="buttons-modify">
                  <button (click)="saveCard(selectedCard)" [ladda]="selectedCard.isSaving" [class.disabled]="!selectedCard.modified"
                          class="btn btn--round btn--default">
                    Save
                  </button>
                </div>

              </div>
            </div>
          </div>

        </div>
      </div>
      <!--END CARDS INFOS-->

    </div>

  </div>
</section>
